@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';
@import './lib/styles/typography.css';

/* ===================================================================
   CSS CUSTOM PROPERTIES - Single source of truth
   =================================================================== */
:root {
	/* Colors */
	--color-modal-backdrop: rgba(0, 0, 0, 0.4);
	--color-pink-100: rgba(252, 231, 243, 0.7);
	--color-pink-200: rgba(249, 168, 212, 0.5);

	/* Spacing */
	--modal-padding: 1rem;
	--modal-border-radius: 1.5rem;
	--modal-max-height: 85vh;
	--modal-width: 95%;

	/* Transitions */
	--transition-fast: 0.15s ease-out;
	--transition-medium: 0.3s ease-out;

	/* Scroll */
	--scrollbar-width: 0px;
}

/* ===================================================================
   ACCESSIBILITY - Maintain focus visibility with better approach
   =================================================================== */
/* Only remove outline for mouse users, keep for keyboard */
:focus:not(:focus-visible) {
	outline: none;
}

/* Custom focus styles for keyboard navigation */
:focus-visible {
	outline: 2px solid var(--color-pink-200);
	outline-offset: 2px;
}

/* Remove tap highlight on mobile */
* {
	-webkit-tap-highlight-color: transparent;
}

/* ===================================================================
   BUTTON OVERRIDES - Smooth transitions
   =================================================================== */
.btn {
	transition:
		transform var(--transition-fast),
		background-color var(--transition-fast),
		border-color var(--transition-fast),
		color var(--transition-fast),
		box-shadow var(--transition-fast);
	/* Prevent layout shift on hover */
	transform: translateZ(0);
}

/* ===================================================================
   SCROLL BEHAVIOR - Consolidated and improved
   =================================================================== */
html {
	/* Smooth scrolling for anchor links */
	scroll-behavior: smooth;
	/* Remove forced scrollbar - let content dictate */
	overflow-y: auto;
}

body {
	/* Prevent horizontal overflow */
	overflow-x: hidden;
	/* Disable bounce on overscroll */
	overscroll-behavior-y: none;
	/* Smoother scrolling on iOS */
	-webkit-overflow-scrolling: touch;
}

/* ===================================================================
   MODAL HANDLING - Clean and maintainable
   =================================================================== */
/* Prevent scroll when modal is open */
.modal-open {
	overflow: hidden;
}

/* Support for dialog element - removed position fixed to prevent layout shift */
body:has(dialog[open]) {
	overflow: hidden;
}

/* Modal container styles */
.modal {
	padding: 0;
	overflow: hidden;
	position: fixed;
	inset: 0;
	z-index: 9999;
}

/* Modal backdrop */
dialog.modal::backdrop {
	background-color: var(--color-modal-backdrop);
}

/* Modal box styling */
.modal-box {
	max-height: var(--modal-max-height);
	overflow-y: auto;
	margin: var(--modal-padding) auto;
	width: var(--modal-width);
	border-radius: var(--modal-border-radius);
	/* Custom scrollbar for modal */
	scrollbar-width: thin;
	scrollbar-color: var(--color-pink-200) transparent;
}

/* Modal scrollbar styles for WebKit */
.modal-box::-webkit-scrollbar {
	width: 6px;
}

.modal-box::-webkit-scrollbar-track {
	background: transparent;
}

.modal-box::-webkit-scrollbar-thumb {
	background-color: var(--color-pink-200);
	border-radius: 3px;
}

/* ===================================================================
   SCROLLBAR COMPENSATION - Prevent layout shift on modal open
   =================================================================== */
/* Scrollbar compensation removed - let modal service handle it */

/* ===================================================================
   ANIMATIONS - Namespaced to prevent conflicts
   =================================================================== */
@keyframes tt-fadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes tt-fadeUp {
	from {
		opacity: 0;
		transform: translateY(15px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes tt-pulse-glow {
	0% {
		box-shadow: 0 0 5px rgba(255, 190, 60, 0.5);
	}
	50% {
		box-shadow: 0 0 15px rgba(255, 190, 60, 0.8);
	}
	100% {
		box-shadow: 0 0 5px rgba(255, 190, 60, 0.5);
	}
}

/* ===================================================================
   UTILITY CLASSES
   =================================================================== */
.animate-fadeIn {
	animation: tt-fadeIn 0.5s ease-out forwards;
}

.animate-fadeUp {
	animation: tt-fadeUp 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

/* Custom gradient text */
.text-gradient {
	fill: url(#gradient-fill);
}

/* ===================================================================
   COMMON ANIMATIONS - Namespaced with tt- prefix
   =================================================================== */
/* Fade up animation for modal content */
@keyframes tt-fadeUp {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Fade in animation for content */
@keyframes tt-fadeIn {
	0% {
		opacity: 0;
		transform: translateY(8px);
	}
	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Slow pulse animation */
@keyframes tt-pulse-slow {
	0%,
	100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
}

/* Animation utility classes */
.animate-tt-fadeUp {
	animation: tt-fadeUp 0.5s ease-out forwards;
}

.animate-tt-fadeIn {
	animation: tt-fadeIn 0.5s ease-out forwards;
}

.animate-tt-pulse-slow {
	animation: tt-pulse-slow 3s ease-in-out infinite;
}

/* ===================================================================
   PERFORMANCE OPTIMIZATIONS
   =================================================================== */
/* Optimize animations for performance */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Use GPU acceleration for transforms */
.gpu-accelerated {
	will-change: transform;
	transform: translateZ(0);
}
